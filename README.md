# ๐๏ธ ScraperShop Telegram Bot

ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู ุจุฑุง ุฌุณุชุฌู ู ููุงุณูโ ููุช ูุญุตููุงุช ุฏุฑ **Digikala**, **eBay** ู ุณุงุฑ ูุจโุณุงุชโูุง ุฌูุงู.  
ุงู ูพุฑูฺู ุจุง ูุฏู ุงุฌุงุฏ ฺฉ ุงุจุฒุงุฑ ุณุฑุนุ ุงูู ู ููุงุณโูพุฐุฑ ุจุฑุง ุฏุฑุงูุช ุงุทูุงุนุงุช ูุญุตููุงุช ุทุฑุงุญ ุดุฏู ุงุณุช.

---

## ๐ ูุนุฑู

**ScraperShop** ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู ุงุณุช ฺฉู ุจุง ุฏุฑุงูุช ูุงู ูุญุตููุ ุขู ุฑุง ุฏุฑ ูุฑูุดฺฏุงูโูุง ูุฎุชูู ุฌุณุชุฌู ูโฺฉูุฏ ู ูุชุงุฌ ุฑุง ุจุง ุฌุฒุฆุงุช ฺฉุงูู (ูุงูุ ููุช ู ููฺฉ ุฎุฑุฏ) ุฏุฑ ูุงูุจ HTML ููุงุด ูโุฏูุฏ.  
ุณุณุชู ุงุฒ **ูุฏุฑุช ุตู ููุดููุฏ** (ุจุง Semaphore ู Queue) ุจุฑุง ุงุฌุฑุง ููุฒูุงู ุฏุฑุฎูุงุณุชโูุง ุจูุฑู ูโุจุฑุฏ ุชุง ูพุงุฏุงุฑ ู ุงููุช ุญูุธ ุดูุฏ.

---

## ๐ฅ ุณุงุฒูุฏฺฏุงู

| ูุงู | ููฺฉ |
|------|------|------|
[Ali Farisat](https://github.com/WolfAlicode) | ๐ [GitHub](https://github.com/WolfAlicode) |
[Sadegh Kdd](https://github.com/sadeghkdd) | ๐ [GitHub](https://github.com/sadeghkdd) |

---

## โ๏ธ ูฺฺฏโูุง

- ูพุดุชุจุงู ุงุฒ ฺูุฏู ูุฑูุดฺฏุงู:
  - ๐น Digikala
  - ๐น eBay
  - ๐น Global (ุจุง ูพุดุชุจุงู ุงุฒ ููฺฉ ูุณุชูู + ูุงู ูุญุตูู)
- ุณุณุชู **ุถุฏ ุงุณูพู** ุจุฑุง ฺฉุงุฑุจุฑุงู
- ูุฏุฑุช ููุฒูุงู ุฌุณุชุฌููุง ุจุง **ManagerQueue**
- ูุงูุจโุจูุฏ HTML ุชูุฒ ุฏุฑ ูุชุงุฌ
- ุซุจุช ุฏูู ูุงฺฏโูุง ุฏุฑ ูุงู ูุฌุฒุง
- ุณุณุชู ูุบู ุนููุงุช (Cancel) ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
- ูพุดุชุจุงู ุงุฒ ฺูุฏ ุฒุจุงู ุฏุฑ ฺฉุฏููุณ (ูุงุฑุณ/ุงูฺฏูุณ)

---

## ๐งฉ ุณุงุฎุชุงุฑ ูุงูโูุง

```
ScraperShop/
โ
โโโ bot.py                      # ูุงู ุงุตู ุฑุจุงุช ุชูฺฏุฑุงู
โ
โโโ digikala_optimized.py       # ูุงฺูู ูุฎุตูุต ุฌุณุชุฌู ุฏุฑ Digikala
โ
โโโ ebay_optimized.py           # ูุงฺูู ูุฎุตูุต ุฌุณุชุฌู ุฏุฑ eBay
โ
โโโ web_mimic_optimized.py      # (ุงุฎุชุงุฑ) ูุงฺูู ุฌูุงู ุจุฑุง ููฺฉโูุง
โ
โโโ requirements.txt            # ูุณุช ฺฉุชุงุจุฎุงููโูุง ููุฑุฏ ูุงุฒ
โ
โโโ README.md                   # ูุณุชูุฏุงุช ูพุฑูฺู
```

---

## ๐ฆ ูุตุจ ู ุงุฌุฑุง

### 1๏ธโฃ ูพุดโูุงุฒูุง

ูุจู ุงุฒ ูุฑ ฺุฒุ ุงุทููุงู ุญุงุตู ฺฉูุฏ Python ูุณุฎูโ **3.10+** ุฑู ุณุณุชู ุดูุง ูุตุจ ุงุณุช.

### 2๏ธโฃ ูุตุจ ูุงุจุณุชฺฏโูุง

```bash
pip install -r requirements.txt
```

ุฏุฑ ุตูุฑุช ูุฏุงุดุชู Playwrightุ ูุตุจ ุขู ูุฒ ุถุฑูุฑ ุงุณุช:

```bash
pip install playwright
playwright install chromium
```

### 3๏ธโฃ ุชูุธู ุชูฺฉู ุฑุจุงุช

ุฏุฑ ูุงู `bot.py`ุ ููุฏุงุฑ ุฒุฑ ุฑุง ุจุง **ุชูฺฉู ุฑุจุงุช ุฎูุฏ** ุฌุงฺฏุฒู ฺฉูุฏ:

```python
API_TOKEN = "YOUR_TELEGRAM_BOT_TOKEN"
```

### 4๏ธโฃ ุงุฌุฑุง ุฑุจุงุช

```bash
python bot.py
```

ุงฺฏุฑ ุงุฒ VS Code ุงุณุชูุงุฏู ูโฺฉูุฏุ ฺฉุงูโุณุช ุฑู ูุงู ุฑุงุณุชโฺฉูฺฉ ฺฉูุฏ ู ฺฏุฒููโ  
**Run Python File in Terminal** ุฑุง ุจุฒูุฏ.

---

## ๐ง ูุญูู ุงุณุชูุงุฏู ุฏุฑ ุชูฺฏุฑุงู

1. ุฏุณุชูุฑ `/start` ุฑุง ุจูุฑุณุชุฏ.  
2. ฺฏุฒููโ **๐ ูุฑูุดฺฏุงูโูุง** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.  
3. ฺฉ ุงุฒ ูุฑูุดฺฏุงูโูุง ุฑุง ุจุฑฺฏุฒูุฏ:
   - ๐ Digikala  
   - ๐ eBay  
   - ๐ Global (link + name)
4. ูุงู ูุญุตูู ุง ููฺฉ ุฑุง ุงุฑุณุงู ฺฉูุฏ.  
5. ฺูุฏ ุซุงูู ุตุจุฑ ฺฉูุฏ ุชุง ูุชุงุฌ ุจุง ูุฑูุช HTML ุฏุฑุงูุช ุดููุฏ.

---

## ๐งฐ ููููู ุฎุฑูุฌ

```html
1. <a href="https://www.digikala.com/product/...">ฺฏูุด ููุจุงู ุณุงูุณููฺฏ A55</a>
๐ฐ ููุช: 24,300,000 ุชููุงู

2. <a href="https://www.digikala.com/product/...">ูุฏููู ุจโุณู ุดุงุฆูู</a>
๐ฐ ููุช: 1,250,000 ุชููุงู
```

---

## ๐ง ูุนูุงุฑ ุณุณุชู

```
ฺฉุงุฑุจุฑ โ Telegram Bot API โ bot.py โ Scraper Manager โ digikala_optimized / ebay_optimized
```

- ูุฑ ุฌุณุชุฌู ุฏุฑ ุตู (Queue) ูุฑุงุฑ ูโฺฏุฑุฏ.
- ุงฺฏุฑ ุธุฑูุช ูพุฑุฏุงุฒุด ูุนุงู ูพุฑ ุจุงุดุฏุ ฺฉุงุฑุจุฑ ุฏุฑ ุตู ุงูุชุธุงุฑ ูโูุงูุฏ.
- ุณุณุชู ุถุฏ ุงุณูพู ุงุฒ ุงุฑุณุงู ุจุด ุงุฒ ุญุฏ ุฏุฑุฎูุงุณุช ุฌููฺฏุฑ ูโฺฉูุฏ.
- ุฏุฑ ุงูุชูุง ูพุฑุฏุงุฒุดุ ูุชุฌู ุฏุฑ ูุงูุจ HTML ุจุฑุง ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโุดูุฏ.

---

## ๐งพ ูุงู ูุงฺฏโูุง

ูุฑ ูุงฺูู ุงุณฺฉุฑูพุฑ (ูุซู `digikala_optimized.py` ุง `ebay_optimized.py`) ูุงฺฏโูุง ูุฎุตูุต ุฎูุฏ ุฑุง ุฏุฑ ูุงู ูุฌุฒุง ุฐุฎุฑู ูโฺฉูุฏ:

```
digikala_scraper.log
ebay_scraper.log
```

ุฏุฑ ุงู ูุงูโูุงุ ุฒูุงูุ ููุน ุฎุทุงุ ุชูุงุดโูุง ูุฌุฏุฏ ู ูุชุงุฌ ูููู ุซุจุช ูโุดููุฏ.

---

## ๐ ุงููุช ู ูพุงุฏุงุฑ

- ุงุฌุฑุง ุงูู ุชูุงุจุน ุจุง ูุฏุฑุช Exception  
- ฺฉูุชุฑู ููุฒูุงู ุจุง Semaphore ู Queue  
- ูุญุฏูุฏุณุงุฒ ุณุฑุนุช ุงุฑุณุงู ูพุงูโูุง (Rate Limiter)  
- ุญุฐู ุฎูุฏฺฉุงุฑ state ฺฉุงุฑุจุฑุงู ูพุณ ุงุฒ ูพุงุงู ุนููุงุช  

---

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ **MIT License** ููุชุดุฑ ุดุฏู ุงุณุช.  
ุงุณุชูุงุฏูุ ูุฑุงุด ู ุงูุชุดุงุฑ ูุฌุฏุฏ ุขู ุจุง ุฐฺฉุฑ ูุงู ุณุงุฒูุฏฺฏุงู ูุฌุงุฒ ุงุณุช.

---

## ๐งโ๐ป ุชูุณุนูโุฏููุฏฺฏุงู

๐ฌ ุจุฑุง ุงุฑุชุจุงุทุ ุจุง ุชูุณุนูโุฏููุฏฺฏุงู ุชูุงุณ ุจฺฏุฑุฏ:

- [@AliZone](https://t.me/AliZone)
- [@Sadegh_kd](https://t.me/Sadegh_kd)

---

## ๐ ุญูุงุช ุงุฒ ูพุฑูฺู

ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุงุชุงู ููุฏ ุจูุฏุ ุญุชูุงู ุจู ุขู โญ ุจุฏูุฏ ุชุง ุฏุฑ GitHub ุจุดุชุฑ ุฏุฏู ุดูุฏ.
